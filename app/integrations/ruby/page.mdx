---
title: "Treblle with Ruby on Rails"
metaTitle: "Set Up Treblle in Rails | Treblle Docs"
description: "Integrate Treblle with Ruby on Rails to log API requests, monitor performance, and improve security. Follow our setup guide to configure Treblle for real-time API insights."
image: "/og-images/treblle-rails.jpg"
---

import PaginationCards from "~components/cards/pagination-cards";
import { InfoTable } from "~components/tables/info-table";

## Requirements

- Ruby 2.0+
- Ruby on Rails 6.1+

## Installation

Add the gem to your Gemfile:

```rb
# Gemfile
gem "treblle", "~> 2.0"
```

Then add following line to `config/application.rb`, or if you want to include it to specific environment only, then e.g. `config/environments/development.rb` which registers Treblle middleware.

```rb
config.middleware.use(Treblle)
```

You can then configure the gem:

```rb
# config/initializers/treblle.rb

Treblle.configure do |config|
  config.api_key               = ENV.fetch('TREBLLE_API_KEY')
  config.project_id            = ENV.fetch('TREBLLE_PROJECT_ID')
  config.enabled_environments  = %w[staging development]
  config.sensitive_attrs       = %w[top_secret_custom_attribute password_digest]
  config.restricted_endpoints  = %w[/api/users /api/v2/*]
  config.whitelisted_endpoints = %w[/api/]
end
```

You can use any of the configuration options below:

<InfoTable title="Option" description="Description">
    <InfoTable.Row
        title="config.api_key"
        description="(Required) Valid API key obtained during registration on treblle.com"
    />
    <InfoTable.Row
        title="config.project_id"
        description="(Required) Valid Project ID obtained after creating a new project on treblle.com"
    />
    <InfoTable.Row
        title="config.enabled_environments"
        description="(Required) Enables monitoring on specified environments"
    />
    <InfoTable.Row
        title="config.sensitive_attrs"
        description="(Optional) Mask additional attributes"
    />
    <InfoTable.Row
        title="config.restricted_endpoints"
        description="(Optional) Routes that you don't want to monitor"
    />
    <InfoTable.Row
        title="config.whitelisted_endpoints"
        description="(Optional) Routes that you want to monitor, by default /api/"
    />
</InfoTable>

<PaginationCards />