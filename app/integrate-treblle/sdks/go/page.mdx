---
title: "Treblle with Go standard library"
metaTitle: "Set Up Treblle in Go | Treblle Docs"
description: "Integrate Treblle with Go to capture API requests, monitor errors, and enhance security. Follow our setup guide to configure Treblle for real-time insights."
image: "/og-images/treblle-go.jpg"
---

import { NoteCard } from "~components/cards/note";
import { TipCard } from "~components/cards/tip";
import PaginationCards from "~components/cards/pagination-cards";


## Introduction

Treblle middleware for Go works with applications based on `net/http`.

## Installation

Treblle uses [Go Modules](https://github.com/golang/go/wiki/Modules) to manage dependencies.

```shell copy
go get github.com/treblle/treblle-go
```

## Basic configuration

Configure Treblle at the start of your `main()` function:

```go copy
import "github.com/treblle/treblle-go"

func main() {
	treblle.Configure(treblle.Configuration{
		APIKey:     "YOUR API KEY HERE",
		ProjectID:  "YOUR PROJECT ID HERE",
        AdditionalFieldsToMask: []string{"password", "card_number"}, // optional, specify additional fields to mask
	}

    // rest of your program.
}
```

After that, just use the middleware with any of your handlers:

```go copy
mux := http.NewServeMux()
mux.Handle("/", treblle.Middleware(http.HandlerFunc(yourHandler)))
```

## gorilla/mux

To setup the `treblle.Middleware` in `gorilla/mux`, you can use it as a global middleware:

```go copy
r := mux.NewRouter()
r.Use(treblle.Middleware)
```

### per-route

You can also use `treblle.Middleware` as a per-route middleware just like you will use it with `net/http`:

```gocopy
r := mux.NewRouter()
r.Handle("/", treblle.Middleware(http.HandlerFunc(yourHandler)))
```

### Subroutes

You can also use `treblle.Middleware` on `gorilla/mux` subroutes:

```go copy
r := mux.NewRouter()

apiRouter := r.PathPrefix("/api").Subrouter()

apiRouter.Use(treblle.Middleware) // Set as a middleware for this subroute

apiRouter.HandleFunc("/users", yourHandler)
```

<TipCard>
The middleware works seamlessly with both the standard `net/http` package and popular routers like `gorilla/mux`, giving you flexibility in how you structure your Go applications.
</TipCard>

<PaginationCards />